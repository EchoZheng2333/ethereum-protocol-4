---
timezone: UTC+8
---

> 请在上边的 timezone 添加你的当地时区(UTC)，这会有助于你的打卡状态的自动化更新，如果没有添加，默认为北京时间 UTC+8 时区


# big-dudu-mosty

1. 自我介绍
    菜鸟级 dapp 开发选手，希望通过这次 EPF 的学习能够加深对以太坊的了解
2. 你认为你会完成本次残酷学习吗？
    会
3. 你的联系方式（推荐 Telegram）
    @dudu_1021
## Notes

<!-- Content_START -->

### 2025.06.16

学习了https://epf.wiki/#/eps/week1中的以太坊基础知识，并完成相关测试 https://ethereum.org/quizzes 简单读了一下https://vitalik.eth.limo/general/2024/10/14/futures1.html Vitalik 的协议系列文章1 笔记：

The Merge 的意义与现状： The Merge 指以太坊从工作量证明（PoW）转向权益证明（PoS），是以太坊历史上最重要的升级之一。这一转变极大地降低了能耗，并为以太坊网络的可持续发展奠定了基础。目前，以太坊 PoS 运行稳定，但在去中心化、性能和抗中心化风险等方面仍有进一步提升的空间。
未来改进目标： 单槽终局（Single Slot Finality, SSF）：将区块终局时间从15分钟缩短到1个slot（约12秒），大幅提升用户体验和安全性。 降低质押门槛：将单个验证者的最低质押从32 ETH降至1 ETH，鼓励更多个人参与质押，增强网络去中心化。 提升鲁棒性：增强以太坊对51%攻击（如终局回滚、阻止终局、审查等）的抵抗和恢复能力，提升整体安全性。
单槽终局的挑战与方案： 实现单槽终局的目标是既要加快终局速度、降低质押门槛，又不能让节点负担过重。主要技术方案包括： 暴力聚合签名：采用更高效的签名聚合协议（如ZK-SNARKs），以便在极短时间内处理百万级验证者的签名。 Orbit委员会机制：通过随机选中中等规模的委员会参与终局，兼顾效率和经济终局性，降低节点压力。 双层质押机制：将质押者分为高额和低额两类，高额质押者负责终局，低额质押者可委托或参与部分职责，既降低门槛又需防范中心化风险。
单一秘密领导者选举（SSLE）： 目前，以太坊下一个出块者的身份是提前公开的，容易受到DDoS攻击。SSLE的目标是通过加密技术隐藏出块者身份，直到出块时才公开，从而提升网络安全性。难点在于如何实现既简单又可扩展、同时具备抗量子攻击能力的协议。
更快的交易确认： 以太坊希望将slot时间从12秒进一步缩短到4秒，以提升用户体验和DeFi协议的效率。实现方法包括缩短slot时间或允许出块者实时发布预确认信息。但过短的slot时间可能导致节点集中在低延迟地区，影响网络的去中心化。
其他研究方向： 51%攻击恢复：减少对“社会层”软分叉的依赖，提升自动化恢复能力，增强网络自愈性。 提高终局门槛：将区块终局所需的支持率从67%提升至80%，进一步增强安全性。 抗量子攻击：为未来量子计算威胁做准备，开发抗量子签名方案，保障以太坊长期安全。

### 2025.06.17

### 2025.06.18

https://vitalik.eth.limo/general/2024/10/17/futures2.html

以太坊协议的未来（二）：The Surge 阶段学习笔记
一、背景与核心目标
以太坊早期有两条扩容路线：分片（sharding）和Layer2协议。
目前主流扩容方案是rollup-centric（以rollup为中心），即L1专注安全和去中心化，L2负责扩展性。
2023年后，EIP-4844等升级大幅提升了L1数据带宽，多个EVM rollup已进入“stage 1”阶段。
目标：L1+L2合计10万+TPS，保持L1去中心化和安全，L2间高度互操作。

二、扩容三难问题（Scalability Trilemma）
三难：去中心化（节点运行门槛低）、扩展性（高TPS）、安全性（攻击者难以作恶）。
传统观点认为三者不可兼得，但数据可用性采样（DAS）+ SNARKs有望突破三难。
Plasma等架构通过激励机制让用户自己监控数据可用性，也是一种思路。

三、数据可用性采样（DAS）进展
Dencun升级后，以太坊每12秒可处理3个“blob”，总带宽约375KB/slot，极限TPS约173（仅blob数据）。
未来目标：通过PeerDAS、2D采样等技术，将带宽提升到16MB/slot，理论支持5.8万TPS。
PeerDAS：每个节点只需采样一小部分数据，极大降低全节点压力。
2D采样：进一步提升效率，便于分布式区块构建。

四、数据压缩
Rollup每笔交易上链数据约180字节，数据压缩可进一步提升TPS。
技术手段包括：零字节压缩、签名聚合（BLS）、地址指针替换、自定义序列化等。
目标：让每笔交易占用更少字节，提升整体吞吐量。

五、通用Plasma方案
Plasma通过链下处理、链上提交Merkle根，极大提升扩展性。
结合SNARKs后，Plasma可支持更广泛资产类型，挑战机制更简单。
Hybrid plasma/rollup方案（如Intmax）可实现极高TPS和隐私性。

六、L2证明系统成熟化
目前大多数rollup还未完全去信任化，安全理事会可干预。
目标是达到Stage 2：完全信任的证明系统，理事会仅能在代码有bug时介入。
路径：形式化验证（Formal Verification）、多证明人（Multi-provers）等。

七、跨L2互操作性与用户体验
现状：L2之间转账、交互体验差，容易出错。
目标：让L2间转账像L1内一样简单，提升钱包、协议标准化。
技术方向：链特定地址、链特定支付请求、跨链swap与gas支付、轻客户端、keystore钱包、共享token桥等。

八、L1执行扩容
L2扩容后，L1也需提升处理能力，否则会影响ETH经济安全和L2生态。
方案包括：提升gas上限、优化EVM字节码（EOF）、多维gas定价、降低部分opcode gas费、EVM-MAX/SIMD等。
终极方案：原生rollup（enshrined rollups），即L1内置多个并行EVM副本。

九、未来展望与权衡
L1和L2的分工需有明确原则，不能盲目提升L1负载，避免去中心化和安全性受损。
许多技术路线（如DAS、Plasma、原生rollup）都在权衡扩展性、复杂性和安全性。
社区协作、标准化和技术创新是实现最终目标的关键。

### 2025.06.19
以太坊协议未来展望（三）：The Scourge 笔记

一、以太坊L1的中心化风险
以太坊权益证明（PoS）面临的最大风险之一是由于经济压力导致的中心化。大质押者更容易通过规模经济获得更高收益，小质押者则倾向于加入大型池，进而导致：
51%攻击风险上升
交易审查等危机
价值被少数人攫取
风险主要体现在两个方面：
区块构建（Block Construction）
质押资本提供（Staking Capital Provision）
大质押者能运行更复杂的MEV（最大可提取价值）算法，获得更高收益；还能更好地应对资金锁定的不便（如发行流动性质押代币LST）。

二、区块构建管道的改进
1. 当前问题
目前区块构建主要通过协议外的“提议者-构建者分离”（PBS）实现，MEVBoost是主流方案。
区块内容选择权被高度专业化的构建者掌控，中心化风险大。
两大构建者控制了约88%的区块内容选择权，存在审查和市场操纵风险。
2. 主要解决方案
Inclusion Lists（纳入列表）
由提议者（质押者）生成一份有效交易列表，构建者必须全部包含，但可自行排序并添加自有交易。
FOCIL（Fork-choice-enforced inclusion lists）方案：每个区块由多个提议者组成委员会，需全部成员一致才能审查交易，极大提升抗审查性。
APS（Attester-Proposer Separation）
APS进一步将区块提议权分离，减少提议者与构建者的利益绑定，降低中心化风险。
BRAID（多提议者并行方案）
多个提议者并行生成交易列表，最终按确定性算法（如按手续费高低）排序。
但存在“最后行动套利”和“专属订单流”问题，仍需依赖加密内存池（Encrypted Mempool）保障公平。
加密内存池
用户广播加密交易，区块构建时内容不可见，后续再解密。
主要难点在于确保所有交易最终都能被解密和包含，常用门限解密或延迟加密技术。

三、质押经济学的改进
1. 当前问题
约30%的ETH已质押，远超安全所需。
若质押比例过高，可能导致：
所有ETH持有者都被动参与质押，进一步中心化
惩罚机制可信度下降
单一LST主导网络，甚至取代ETH本身
以太坊无谓增发
2. 主要方案
两级质押（Two-tier Staking）
设置“风险承担型”（可被惩罚）和“无风险型”（不可被惩罚）两类质押，前者数量有限，后者人人可参与。
或者直接调整发行曲线，质押比例过高时大幅降低收益。
MEV收益捕获
目前MEV收益归提议者所有，导致收益波动大、激励失衡、难以通过调整发行率限制质押规模。
方案：通过提前拍卖区块提议权等方式，将MEV收益纳入协议捕获和分配。

四、应用层解决方案
专用质押硬件（如Dappnode）降低节点运营门槛
Squad Staking（多签质押）让多人协作质押更便捷
针对独立质押者的空投激励
去中心化区块构建市场，结合ZK、MPC、TEE等技术提升隐私与抗审查性
应用层MEV最小化设计，如操作排队、延迟执行、链下撮合等

五、未来展望与挑战
不同方案可组合推进，如先实施FOCIL+APS，再逐步过渡到BRAID。
需持续优化加密内存池、纳入列表设计、APS拍卖机制等细节。
质押经济学需平衡收益、惩罚与去中心化目标，防止LST主导和中心化。
单槽终结性（Single Slot Finality）等其他协议升级与区块构建方案密切相关，需协同设计。

### 2025.06.21
以太坊协议未来展望——第四部分：The Verge 读书笔记

核心概念
The Verge 是以太坊路线图的重要组成部分，最初指的是将以太坊状态存储迁移到 Verkle 树结构，但现在已扩展为更宏大的愿景：使以太坊链验证变得资源高效，使任何移动钱包、浏览器钱包甚至智能手表都能默认进行完全验证。

The Verge 的关键目标
无状态客户端：完全验证客户端和质押节点只需几 GB 存储空间
长期目标：在智能手表上完全验证链（共识和执行）
无状态验证：Verkle 树 vs STARKs

要解决的问题
目前以太坊客户端需要存储数百 GB 的状态数据才能验证区块，且这个数量每年增加约 30 GB。这减少了能运行全验证节点的用户数量，首次设置节点也需要数小时或数天下载状态。

无状态验证技术方案
无状态验证允许节点不需要拥有完整状态就可以验证区块，通过提供见证数据（witness）实现：
包含区块将访问的特定状态位置的值（代码、余额、存储等）
证明这些值正确的加密证明

Verkle 树方案
使用基于椭圆曲线的向量承诺来创建更短的证明
每个父子关系的证明部分只有 32 字节，无论树宽度如何
理论最大证明大小约为 1.3 MB（实际约 2.6 MB）

STARKed 二进制哈希树方案
在二叉树上进行验证，最大 10.4 MB 的证明被 STARK 替代
证明本身只包括被证明的数据，再加上 STARK 的 100-300 kB 固定开销
主要挑战是证明者时间（prover time）

EVM 执行的有效性证明
目标
长期目标是通过下载区块（甚至使用数据可用性采样只下载部分区块）和验证小型证明来验证以太坊区块。

实现方式
EVM 在以太坊规范中定义为状态转换函数：
有预状态 S、区块 B，计算后状态 S' = STF(S, B)
轻客户端持有预状态根 R、后状态根 R' 和区块哈希 H
需证明的内容包括：状态访问的正确性、状态转换的正确性、根重计算的正确性

当前挑战
安全性：确保 SNARK 真正验证 EVM 计算，没有漏洞
解决方案：多证明者和形式化验证
证明者时间：任何以太坊区块能在 4 秒内被证明
需要在三个方向推进：
并行化：每个 GPU 处理一个步骤，然后进行"聚合树"
证明系统优化：使用 Orion、Binius、GKR 等新证明系统
EVM gas 成本和其他更改：优化 EVM 更具证明友好性
共识的有效性证明

面临的挑战
以太坊共识涉及处理存款、提款、签名、验证者余额更新等，要完全验证区块，还需证明共识部分。
主要挑战在于：
每个区块需要为每个验证者证明 1-16 次 BLS12-381 椭圆曲线加法
当前每个插槽有约 3 万验证者签名，未来可能增至 100 万
需要验证配对运算（每个插槽最多 128 个）
SHA256 哈希验证大量使用

潜在解决方案
哈希函数更改：从 SHA256 改为 Poseidon 可获得约 100 倍提升
直接存储打乱的验证者记录（如果使用 Orbit）
签名聚合：使用递归证明在网络中分担验证负载

<!-- Content_END -->
